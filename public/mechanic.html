<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <title>Mechanic Dashboard</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  </head>
  <body
    class="min-h-screen bg-gradient-to-br from-yellow-50 via-white to-yellow-100 p-8 font-sans text-gray-900 selection:bg-yellow-200"
  >
    <header
      class="flex flex-col sm:flex-row justify-between items-center mb-8 gap-4"
    >
      <h1 class="text-4xl font-extrabold tracking-tight text-yellow-700">
        Mechanic Dashboard
        <span
          id="mech-name"
          class="block text-yellow-900 text-xl font-semibold mt-1 sm:inline sm:ml-3"
        ></span>
      </h1>
      <button
        onclick="logout()"
        class="inline-flex items-center gap-2 bg-yellow-600 hover:bg-yellow-700 text-white font-semibold px-5 py-2 rounded-lg shadow-md transition focus:outline-none focus:ring-4 focus:ring-yellow-400"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a2 2 0 11-4 0v-1m0-8v1a2 2 0 104 0V8"
          />
        </svg>
        Logout
      </button>
    </header>

    <main class="max-w-6xl mx-auto space-y-12">
      <!-- Service Reminders -->
      <section>
        <h2 class="text-3xl font-semibold text-yellow-700 mb-6">
          ‚è∞ Service Reminders (More than 30 days old)
        </h2>
        <div
          id="reminders"
          class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3"
          aria-live="polite"
          aria-atomic="true"
        >
          <!-- Reminder cards inserted here -->
        </div>
      </section>

      <!-- Add New Service -->
      <section>
        <h2 class="text-3xl font-semibold text-yellow-700 mb-6">
          ‚ûï Add New Service
        </h2>
        <form
          id="add-service-form"
          class="bg-white rounded-xl p-8 shadow-lg max-w-xl mx-auto space-y-6"
          novalidate
        >
          <div>
            <label
              for="user-select"
              class="block mb-2 font-medium text-gray-700"
              >Select User</label
            >
            <select
              id="user-select"
              required
              class="w-full border border-yellow-300 rounded-md p-3 focus:ring-yellow-400 focus:border-yellow-400 outline-none transition"
            >
              <option value="">Select User</option>
            </select>
          </div>

          <div>
            <label for="car-select" class="block mb-2 font-medium text-gray-700"
              >Select Car</label
            >
            <select
              id="car-select"
              required
              class="w-full border border-yellow-300 rounded-md p-3 focus:ring-yellow-400 focus:border-yellow-400 outline-none transition"
            >
              <option value="">Select Car</option>
            </select>
          </div>

          <div>
            <label
              for="service-type"
              class="block mb-2 font-medium text-gray-700"
              >Service Type</label
            >
            <input
              type="text"
              id="service-type"
              placeholder="e.g. Oil Change"
              required
              class="w-full border border-yellow-300 rounded-md p-3 focus:ring-yellow-400 focus:border-yellow-400 outline-none transition"
            />
          </div>

          <div>
            <label
              for="service-description"
              class="block mb-2 font-medium text-gray-700"
              >Description (optional)</label
            >
            <textarea
              id="service-description"
              rows="3"
              placeholder="Add additional details..."
              class="w-full border border-yellow-300 rounded-md p-3 focus:ring-yellow-400 focus:border-yellow-400 outline-none transition resize-none"
            ></textarea>
          </div>

          <div>
            <label
              for="service-price"
              class="block mb-2 font-medium text-gray-700"
              >Price ($)</label
            >
            <input
              type="number"
              step="0.01"
              min="0"
              id="service-price"
              placeholder="e.g. 49.99"
              required
              class="w-full border border-yellow-300 rounded-md p-3 focus:ring-yellow-400 focus:border-yellow-400 outline-none transition"
            />
          </div>
          <div>
            <label
              for="service-date"
              class="block mb-2 font-medium text-gray-700"
            >
              Service Date
            </label>
            <input
              type="date"
              id="service-date"
              required
              class="w-full border border-yellow-300 rounded-md p-3 focus:ring-yellow-400 focus:border-yellow-400 outline-none transition"
              max=""
            />
          </div>

          <p
            id="service-message"
            class="text-center font-semibold text-sm hidden"
            role="alert"
          ></p>

          <button
            type="submit"
            class="w-full bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-3 rounded-lg shadow-lg transition"
          >
            Add Service
          </button>
        </form>
      </section>

      <!-- Recent Services -->
      <section>
        <h2 class="text-3xl font-semibold text-yellow-700 mb-6">
          üõ†Ô∏è Recent Services
        </h2>
        <div
          id="service-list"
          class="space-y-5 max-w-5xl mx-auto"
          aria-live="polite"
          aria-atomic="true"
        >
          <!-- Services inserted here -->
        </div>
      </section>
    </main>

    <style>
      @keyframes fade-in-up {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .animate-fade-in-up {
        animation: fade-in-up 0.35s ease-out;
      }
      ::selection {
        background-color: #fef3c7;
      }
    </style>

    <script src="./js/axios.js"></script>
    <script src="./js/auth.js"></script>
    <script src="./js/mechanic.js"></script>
  </body>
</html>
